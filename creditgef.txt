-- Buat ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Enabled = true
screenGui.IgnoreGuiInset = true
screenGui.DisplayOrder = 0
screenGui.Name = "MyGui"
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Global
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

-- Button "By indQwertyðŸ¤« and edited"
local customButton = Instance.new("TextButton")
customButton.AnchorPoint = Vector2.new(0.5, 0.5)
customButton.BackgroundColor3 = Color3.new(1, 1, 1)
customButton.BackgroundTransparency = 1
customButton.Position = UDim2.new(0.5, 0, 0.84, 0) -- Atur posisi sedikit di atas dari tombol Discord
customButton.Size = UDim2.new(0.2, 0, 0.02, 0) -- Ukuran tombol
customButton.Font = Enum.Font.SourceSansBold -- Mengatur font menjadi bold
customButton.Text = "By Rof_R and edited"
customButton.TextColor3 = Color3.new(1, 1, 1) -- Mengatur warna teks menjadi putih
customButton.TextSize = 0.11 -- Ukuran teks tombol
customButton.TextTransparency = 0.8 -- Mengatur transparansi teks menjadi 0.5
customButton.TextScaled = true -- Mengatur teks diukur
customButton.TextWrapped = true -- Mengatur teks dibungkus
customButton.TextStrokeTransparency = 0 -- Mengatur transparansi garis teks menjadi 0
customButton.Parent = screenGui

-- Button "Join our Discord"
local discordButton = Instance.new("TextButton")
discordButton.AnchorPoint = Vector2.new(0.5, 0.5)
discordButton.BackgroundColor3 = Color3.new(1, 1, 1)
discordButton.BackgroundTransparency = 1
discordButton.Position = UDim2.new(0.5, 0, 0.85, 0) -- Sedikit di atas dari tengah bawah
discordButton.Size = UDim2.new(0.2, 0, 0.02, 0) -- Ukuran tombol
discordButton.Font = Enum.Font.SourceSansBold -- Mengatur font menjadi bold
discordButton.Text = "Join our Discord"
discordButton.TextColor3 = Color3.new(1, 1, 1) -- Mengatur warna teks menjadi putih
discordButton.TextSize = 0.11 -- Ukuran teks tombol
discordButton.TextTransparency = 0.8 -- Mengatur transparansi teks menjadi 0.5
discordButton.TextScaled = true -- Mengatur teks diukur
discordButton.TextWrapped = true -- Mengatur teks dibungkus
discordButton.TextStrokeTransparency = 0 -- Mengatur transparansi garis teks menjadi 0
discordButton.Parent = screenGui

-- Tautan Discord
local discordLink = "https://discord.com/invite/5sG4jJwQ"

-- Fungsi untuk menyalin tautan ke clipboard
local function copyToClipboard(text)
    if setclipboard then
        setclipboard(text)
    else
        warn("Clipboard feature is not supported in this platform.")
    end
end

-- Fungsi untuk menyalin tautan Discord saat tombol diklik
discordButton.MouseButton1Click:Connect(function()
    copyToClipboard(discordLink)
end)

-- Fungsi untuk membuat efek fade loop pada tombol
local function fadeLoop(button)
    local fadeDuration = 0.6
    local transparencyMin = 1
    local transparencyMax = 1

    while true do
        for transparency = transparencyMin, transparencyMax, 0.1 do
            button.BackgroundTransparency = transparency
            wait(fadeDuration / (transparencyMax - transparencyMin + 1))
        end
        for transparency = transparencyMax, transparencyMin, -0.1 do
            button.BackgroundTransparency = transparency
            wait(fadeDuration / (transparencyMax - transparencyMin + 1))
        end
    end
end

-- Mulai efek fade loop pada tombol "By indQwertyðŸ¤« and edited"
fadeLoop(customButton)

-- Mulai efek fade loop pada tombol "Join our Discord"
fadeLoop(discordButton)

    -- Function to press 'E' key automatically
local function pressE()
    game:GetService("UserInputService"):SendKeyEvent(true, Enum.KeyCode.E, false, game)
    wait(0.1)
    game:GetService("UserInputService"):SendKeyEvent(false, Enum.KeyCode.E, false, game)
end

-- Fungsi untuk mendapatkan jarak antara dua titik dalam ruang 3D
local function getDistance(point1, point2)
    return (point1 - point2).Magnitude
end

-- Function to detect nearby DoorFrame or Door
local function detectNearbyDoor(character)
    local doorFrame = game:GetService("Workspace").Buildings:FindFirstChild("DoorFrame") -- Perbaiki akses ke DoorFrame
    if doorFrame then
        local door = doorFrame:FindFirstChild("Door")
        local doorFramePart = doorFrame:FindFirstChild("DoorFrame")
        if door and doorFramePart then
            local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
            local distanceToDoor = (humanoidRootPart.Position - door.Position).Magnitude
            local distanceToDoorFrame = (humanoidRootPart.Position - doorFramePart.Position).Magnitude
            local maxDistance = 2
            if distanceToDoor <= maxDistance or distanceToDoorFrame <= maxDistance then
                return true
            end
        end
    end
    return false
end

-- Fungsi untuk memeriksa dan menekan tombol "E" Door
local function checkAndPressE()
    local character = game.Players.LocalPlayer.Character
    if character then
        if detectNearbyDoor(character) then
            pressE()
        end
    end
end

while true do
    checkAndPressE()
    wait(1) -- Periksa setiap detik
end

-- Fungsi untuk menjalankan lompatan sebanyak tiga kali saat karakte
local function autoJump(character)
    local humanoid = character:WaitForChild("Humanoid")
    humanoid.JumpingEnabled = true
    for _ = 1, 3 do
        humanoid.Jump = true
        wait(0.2) -- Tunggu 0.2 detik antara setiap lompatan
    end
end

-- Fungsi untuk mendeteksi teleportasi karakter
local function detectTeleport(character)
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    local prevPosition = humanoidRootPart.Position

    humanoidRootPart:GetPropertyChangedSignal("Position"):Connect(function()
        local newPosition = humanoidRootPart.Position
        local distance = (newPosition - prevPosition).Magnitude
        if distance > 0 then -- Jika jarak perpindahan melebihi 10 stud, kita anggap sebagai teleportasi
            autoJump(character)
        end
        prevPosition = newPosition
    end)
end

-- Jalankan lompatan otomatis sebanyak tiga kali saat karakter ditambahkan
game.Players.LocalPlayer.CharacterAdded:Connect(function(character)
    autoJump(character)
    detectTeleport(character)
end)

local VOID_THRESHOLD = -300

-- Fungsi untuk mendapatkan posisi pemain
local function getPlayerPosition()
    local character = game.Players.LocalPlayer.Character
    if character then
        local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
        if humanoidRootPart then
            return humanoidRootPart.Position
        end
    end
    return nil
end

-- Fungsi untuk memindahkan pemain ke posisi
local function antiVoid()
    local playerPosition = getPlayerPosition()
    if playerPosition and playerPosition.Y < VOID_THRESHOLD then
        -- Pemain berada di dalam void, kita perlu memindahkan mereka kembali ke permukaan
        playerPosition = Vector3.new(playerPosition.X, 400, playerPosition.Z) -- Mengubah ketinggian menjadi 20
        game.Players.LocalPlayer.Character:SetPrimaryPartCFrame(CFrame.new(playerPosition)) -- Memindahkan pemain kembali ke posisi yang aman
    end
end

-- Loop untuk memantau posisi pemain dan menjalankan fungsi antiVoid secara berkala
while true do
    antiVoid()
    wait(1) -- Periksa setiap detik
  end
